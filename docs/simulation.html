<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="author" content="valflrt" />
    <meta name="theme-color" content="#323246" />
    <meta name="msapplication-navbutton-color" content="#323246" />
    <meta name="apple-mobile-web-app-status-bar-style" content="#323246" />

    <title>Simulation</title>

    <link rel="stylesheet" href="./assets/base.css" />

    <style>
      * {
        box-sizing: border-box;
      }

      html,
      body {
        width: 100%;
        height: 100%;
        padding: 0;
        margin: 0;
      }

      #main {
        height: 100%;
      }

      #main {
        padding: 20px;
        display: flex;
        flex-flow: column nowrap;
        align-items: center;
        justify-content: flex-start;
        gap: 10px;
      }

      #canvas {
        border: 1px dashed rgb(220, 220, 230);
      }

      div.settings {
        display: flex;
        flex-flow: column nowrap;
        align-items: flex-start;
        justify-content: flex-start;
        gap: 4px;
      }

      div.settings > div {
        display: flex;
        flex-flow: row wrap;
        align-items: flex-start;
        justify-content: flex-start;
        gap: 12px;
      }

      div.settings input {
        width: 80px;
      }

      #message {
        max-width: 500px;
        text-align: center;
      }
      #message.error {
        color: rgb(250, 160, 180);
      }
    </style>
  </head>
  <body class="dark">
    <div id="main">
      <h1>Simulation</h1>

      <div class="settings">
        <div>
          <span>
            Nombre de pliages (n):
            <input
              type="number"
              id="rang_input"
              name="rang"
              min="1"
              max="30"
              step="1"
            />
          </span>
        </div>
        <div>
          <span>
            Longueur des segments:
            <input
              type="number"
              id="segment_len_input"
              name="segment_len"
              min="1"
              max="100"
              step="1"
            />
          </span>
          <span>
            Épaisseur des segments:
            <input
              type="number"
              id="seg_width"
              name="seg_width"
              min="1"
              max="5"
              step="1"
            />
          </span>
        </div>
        <div>
          <span>
            Décalages en x et y (relatif à la longueur des segments):
            <input
              type="number"
              id="offset_x_input"
              name="offset_x"
              step="0.5"
            />
            <input
              type="number"
              id="offset_y_input"
              name="offset_y"
              step="0.5"
            />
          </span>
        </div>
        <div>
          <span>
            Presets:
            <button id="preset_1">n = 1</button>
            <button id="preset_2">n = 2</button>
            <button id="preset_3">n = 3</button>
            <button id="preset_4">n = 4</button>
            <button id="preset_5">n = 5</button>
            <button id="preset_6">n = 6</button>
            <button id="preset_10">n = 10</button>
            <button id="preset_12">n = 12</button>
            <button id="preset_16">n = 16</button>
            <button id="preset_17">n = 17</button>
          </span>
        </div>
        <div>
          <span>
            Actions:
            <button id="draw_button">Tracer</button>
            <button id="reset_button">Reset</button>
          </span>
        </div>
      </div>

      <div id="message"></div>

      <canvas id="canvas" width="800" height="600"></canvas>

      <a href="/">Retour à la page d'accueil</a>
    </div>

    <script src="./turtle.js"></script>
    <script src="./simulation.js"></script>
  </body>
</html>
